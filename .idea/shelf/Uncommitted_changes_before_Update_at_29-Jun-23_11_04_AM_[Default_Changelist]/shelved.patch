Index: app/src/main/java/com/example/iotProject/Log_in.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.iotProject;\r\n\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.content.ServiceConnection;\r\nimport android.os.Bundle;\r\nimport android.os.IBinder;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.CheckBox;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.*;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class Log_in extends AppCompatActivity {\r\n\r\n    private DatabaseReference dataBase;\r\n    FirebaseUser currentUser;\r\n    private FirebaseAuth mAuth;\r\n    private EditText emailEditText;\r\n    private EditText passwordEditText;\r\n    private Button loginButton;\r\n    private Button signUpButton;\r\n    private CheckBox rememberMeCheckBox;\r\n\r\n    public static MusicService musicService;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_log_in);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        registerReceiver(new BatteryCheck(), new IntentFilter(Intent.ACTION_BATTERY_CHANGED));\r\n        startMusic();\r\n\r\n        emailEditText = findViewById(R.id.emailEditText);\r\n        passwordEditText = findViewById(R.id.passwordEditText);\r\n\r\n        loginButton = findViewById(R.id.logInButton);\r\n        signUpButton = findViewById(R.id.signUpButton);\r\n\r\n        rememberMeCheckBox = findViewById(R.id.rememberMeCheckBox);\r\n        signUpButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getApplicationContext(), Sign_up.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n        loginButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String email, password;\r\n                email = String.valueOf(emailEditText.getText());\r\n                password = String.valueOf(passwordEditText.getText());\r\n                if(TextUtils.isEmpty(email)){\r\n                    Toast.makeText(Log_in.this, \"Enter Email\", Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n                if(TextUtils.isEmpty(password)){\r\n                    Toast.makeText(Log_in.this, \"Enter password\", Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n                mAuth.signInWithEmailAndPassword(email, password)\r\n                        .addOnCompleteListener(new OnCompleteListener<AuthResult>() {\r\n                            @Override\r\n                            public void onComplete(Task<AuthResult> task) {\r\n                                if (task.isSuccessful()) {\r\n                                    Toast.makeText(getApplicationContext(), \" Login Successful\", Toast.LENGTH_SHORT).show();\r\n                                    currentUser = Objects.requireNonNull(task.getResult().getUser());\r\n                                    dataBase.child(\"users/\" + currentUser.getUid() + \"/rememberMe\").setValue(rememberMeCheckBox.isChecked());\r\n                                    Intent intent = new Intent(getApplicationContext(), Home_screen.class);\r\n                                    startActivity(intent);\r\n                                    finish();\r\n                                } else {\r\n                                    // If sign in fails, display a message to the user.\r\n                                    Toast.makeText(Log_in.this, \"Authentication failed.\",\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n            }\r\n        });\r\n    }\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        // Check if user is signed in (non-null) and update UI accordingly.\r\n        currentUser = mAuth.getCurrentUser();\r\n        dataBase = FirebaseDatabase.getInstance(\"https://iot-project-e6e76-default-rtdb.europe-west1.firebasedatabase.app/\").getReference();\r\n        if(currentUser != null){\r\n            dataBase.child(\"users\").child(currentUser.getUid()).child(\"rememberMe\").get().addOnCompleteListener(new OnCompleteListener<DataSnapshot>() {\r\n                @Override\r\n                public void onComplete(@NonNull Task<DataSnapshot> task) {\r\n                    if (!task.isSuccessful()) {\r\n                        Log.e(\"firebase\", \"Error getting data\", task.getException());\r\n                    }\r\n                    else {\r\n                        if((Boolean)(Objects.requireNonNull(task.getResult().getValue()))){\r\n                            Intent intent = new Intent(getApplicationContext(), Home_screen.class);\r\n                            startActivity(intent);\r\n                            finish();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private void startMusic() {\r\n        musicService = new MusicService();//יצירה של service\r\n        Intent playIntent = new Intent(this, MusicService.class);//יצירת intent כדי להפעיל את ה-service\r\n        bindService(playIntent, musicConnection, Context.BIND_AUTO_CREATE);// יצירה של bind בשביל ה-service\r\n        startService(playIntent);//הפעלה של ה-service\r\n    }\r\n\r\n    private final ServiceConnection musicConnection = new ServiceConnection() {\r\n        @Override\r\n        public void onServiceConnected(ComponentName name, IBinder service) {\r\n            MusicService.MusicBinder binder = (MusicService.MusicBinder) service;\r\n            musicService = binder.getService();\r\n        }\r\n\r\n        @Override\r\n        public void onServiceDisconnected(ComponentName componentName) {\r\n        }\r\n\r\n    };\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/iotProject/Log_in.java b/app/src/main/java/com/example/iotProject/Log_in.java
--- a/app/src/main/java/com/example/iotProject/Log_in.java	(revision 20bd1c38e351301a65d5efc3654021a7bc900c0f)
+++ b/app/src/main/java/com/example/iotProject/Log_in.java	(date 1687859262656)
@@ -15,7 +15,6 @@
 import android.widget.EditText;
 import android.widget.Toast;
 
-import androidx.annotation.*;
 import androidx.appcompat.app.AppCompatActivity;
 
 import com.google.android.gms.tasks.OnCompleteListener;
@@ -110,7 +109,7 @@
         if(currentUser != null){
             dataBase.child("users").child(currentUser.getUid()).child("rememberMe").get().addOnCompleteListener(new OnCompleteListener<DataSnapshot>() {
                 @Override
-                public void onComplete(@NonNull Task<DataSnapshot> task) {
+                public void onComplete(Task<DataSnapshot> task) {
                     if (!task.isSuccessful()) {
                         Log.e("firebase", "Error getting data", task.getException());
                     }
